import{_ as e,d as a,L as s,b as o,u as r,q as n,r as t,f as l,c as u,j as i,e as d,g as c,M as m,y as f,H as p,p as g,n as v}from"./index.6ff52ee0.js";const y=a({name:"login",setup(){const e=s({username:void 0,password:void 0}),a=s({username:[{required:!0,message:"请输入帐号",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"}]}),t=o(),l=r(),u=n(),{proxy:i}=p();return{formRef:t,form:e,rules:a,handleSubmit:()=>{t.value.validate().then((()=>{l.dispatch("user/login",e).then((e=>{const a=u.currentRoute.value.query.redirect||"/";l.commit("user/asyncUserInfo"),l.commit("tabs/asyncTabs"),l.commit("settings/asyncSettings"),u.replace(a),null==i||i.$message.success("登录成功")}))}))}}}}),_=e=>(g("data-v-40b9dc79"),e=e(),v(),e),b={class:"login-container"},h={class:"login-container-form"},x=_((()=>c("div",{class:"login-container-hello"},"您好!",-1))),w=_((()=>c("div",{class:"login-container-title"},"欢迎来到通用管理后台",-1))),q=_((()=>c("div",{class:"login-container-tips"},"Vue-Admin 开源通用后台管理模板",-1)));const S=e(y,[["render",function(e,a,s,o,r,n){const p=t("a-col"),g=t("Icon"),v=t("a-input"),y=t("a-form-item"),_=t("a-input-password"),S=t("a-button"),U=t("a-form"),I=t("a-row");return d(),l("div",b,[u(I,null,{default:i((()=>[u(p,{xs:0,md:12,xl:16}),u(p,{xs:24,md:12,xl:8},{default:i((()=>[c("div",h,[x,w,u(U,{ref:"formRef",model:e.form,rules:e.rules,onKeyup:m(e.handleSubmit,["enter"])},{default:i((()=>[u(y,{name:"username"},{default:i((()=>[u(v,{value:e.form.username,"onUpdate:value":a[0]||(a[0]=a=>e.form.username=a),autocomplete:"off",placeholder:"请输入帐号"},{prefix:i((()=>[u(g,{icon:"UserOutlined",style:{color:"rgba(0, 0, 0, 0.25)"}})])),_:1},8,["value"])])),_:1}),u(y,{name:"password"},{default:i((()=>[u(_,{value:e.form.password,"onUpdate:value":a[1]||(a[1]=a=>e.form.password=a),autocomplete:"off",placeholder:"请输入密码"},{prefix:i((()=>[u(g,{icon:"LockOutlined",style:{color:"rgba(0, 0, 0, 0.25)"}})])),_:1},8,["value"])])),_:1}),u(y,null,{default:i((()=>[u(S,{type:"primary",onClick:a[2]||(a[2]=a=>e.handleSubmit())},{default:i((()=>[f("登录")])),_:1})])),_:1})])),_:1},8,["model","rules","onKeyup"])])])),_:1})])),_:1}),q])}],["__scopeId","data-v-40b9dc79"]]);export{S as default};
